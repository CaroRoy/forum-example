{% extends "base.html.twig" %}

{% block body %}
<div class="container pt-5 pb-5">
    <div class="row">
        {% include "public/shared/_messages_flash.html.twig" %}
    </div>
    <div class="row">
        {% for post in posts %}
        <div class="col-12 col-md-6 col-lg-3">
            <div class="card">

                <div class="card-img-top">
                {% if post.imageUrl is not same as null %}
                    <img src="{{ post.imageUrl }}" class="img-fluid">
                    {% else %}
                     <img src="{{ asset('images/defaut.png') }}" class="img-fluid">
                {% endif %}
                </div>

                <div class="card-header">
                    <h3>{{ post.title | upper }}</h3>
                    <br/>
                    <p>{{ post.createdAt | date('d-m-Y') }}</p>
                </div>

                <div class="card-body">
                    {{ post.content | truncate | raw }}
                </div>

                <div class="card-footer">
                    <a class="btn btn-sm btn-primary mt-3" href="{{ path('public_show_post', {'id' : post.id }) }}">Consulter</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}
